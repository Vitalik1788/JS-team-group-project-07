!function(){function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},a={},i=n.parcelRequired7c6;null==i&&((i=function(e){if(e in r)return r[e].exports;if(e in a){var t=a[e];delete a[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){a[e]=t},n.parcelRequired7c6=i),i.register("iE7OH",(function(t,n){var r,a;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return a}),(function(e){return a=e}));var i={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)i[t[n]]=e[t[n]]},a=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),i.register("aNJCr",(function(t,n){var r;e(t.exports,"getBundleURL",(function(){return r}),(function(e){return r=e}));var a={};function i(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}r=function(e){var t=a[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return i(e[2])}return"/"}(),a[e]=t),t}})),i("iE7OH").register(JSON.parse('{"gin8l":"catalog.7b082c94.js","iNwWb":"default.183d728c.jpg","7gLTE":"catalog.d58f1535.js","8hJTk":"catalog.1f9c4e0b.js"}')),i("kFnCB"),i("60y4I");var o=i("bpxeT"),c=i("2TvXO"),s={searchForm:document.getElementById("movieSearchForm"),searchInput:document.getElementById("movieInput"),catalogList:document.getElementById("movieList"),errorContainer:document.querySelector(".error-container"),searchBtn:document.querySelector(".search-button"),cancelBtn:document.querySelector(".cancel-button"),paginationContainer:document.querySelector(".pagination-wrapper"),paginationButton:document.querySelector(".pagination-button"),nextPageBtn:document.querySelector(".next-button"),prevPageBtn:document.querySelector(".prev-button")},u=(o=i("bpxeT"),i("8MBJY")),l=i("a2hTj"),d={};Object.defineProperty(d,"__esModule",{value:!0}),d.default=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e};c=i("2TvXO");var p=function(){"use strict";function e(){t(u)(this,e),this.searchQuery="",this.page=1,this.totalAmount=0}return t(l)(e,[{key:"getMovies",value:function(){var n=this;return t(o)(t(c).mark((function r(){var a,i,o,s;return t(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={method:"GET",headers:{accept:"application/json",Authorization:"Bearer ".concat(e.API_KEY)}},i="",i=n.searchQuery?"".concat(e.BASE_URL,"/search/movie?api_key=").concat(e.API_KEY,"&query=").concat(n.searchQuery,"&include_adult=false&language=en-US&page=").concat(n.page):"".concat(e.BASE_URL,"/trending/all/week?api_key=").concat(e.API_KEY,"&language=en-US&page=").concat(n.page),t.prev=3,t.next=6,fetch(i,a);case 6:return o=t.sent,t.next=9,o.json();case 9:return s=t.sent,t.abrupt("return",s);case 13:throw t.prev=13,t.t0=t.catch(3),console.error(t.t0),t.t0;case 17:case"end":return t.stop()}}),r,null,[[3,13]])})))()}},{key:"incrementPage",value:function(){this.page+=1}},{key:"decrementPage",value:function(){this.page-=1}},{key:"resetPage",value:function(){this.page=1}},{key:"query",get:function(){return this.searchQuery},set:function(e){this.searchQuery=e}},{key:"total",get:function(){return this.totalAmount},set:function(e){this.totalAmount=e}},{key:"resetTotal",value:function(){this.totalAmount=0}}]),e}();t(d)(p,"BASE_URL","https://api.themoviedb.org/3"),t(d)(p,"API_KEY","41b8f9437bf3f899281f8a3f9bdc0891");var f,v=!1,g=function(){if(!v){var e=document.createElement("div");e.innerHTML='<p class="error-information">OOPS...</p>\n  <p class="error-information">We are very sorry!</p>\n  <p class="error-information">\n    We donâ€™t have any results matching your search.\n  </p>',s.errorContainer.appendChild(e),s.errorContainer.classList.remove("is-hidden"),s.paginationContainer.classList.add("is-hidden"),v=!0}};o=i("bpxeT"),c=i("2TvXO");f=i("aNJCr").getBundleURL("gin8l")+i("iE7OH").resolve("iNwWb");var h=i("2j4vU"),m=i("3bDz3"),y=i("hmtur");function b(e){return _.apply(this,arguments)}function _(){return _=t(o)(t(c).mark((function e(n){var r,a,i;return t(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=JSON.parse(localStorage.getItem("genres")),a=n.results.map(function(){var e=t(o)(t(c).mark((function e(n){var a,i,o;return t(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.poster_path?"https://image.tmdb.org/t/p/w500".concat(n.poster_path):"".concat(t(f)),i=(0,m.validateGenres)(n.genre_ids,r),e.next=4,i;case 4:return o=e.sent,e.abrupt("return",'<li class="card-item" data-id="'.concat(n.id,'">\n        <img class="film-poster" src="').concat(a,'" alt="').concat(n.original_title||n.name,'" />\n        <div class="overlay">\n          <div class="film-info">\n            <p class="film-title">').concat(n.original_title||n.name,'</p>\n            <div class="film-details">\n              <span class="film-description">').concat(o," | ").concat(new Date(n.release_date).getFullYear()||new Date(n.first_air_date).getFullYear(),'</span>\n    <div class="stars-container">').concat((0,h.default)({voteAverage:n.vote_average,isHero:!1}),'</div>            \n      \x3c!-- <span class="film-rating">').concat(n.vote_average.toFixed(1),"</span> --\x3e\n            </div>\n          </div>\n        </div>\n      </li>"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=4,Promise.all(a);case 4:i=e.sent,s.catalogList.innerHTML=i.join(""),document.querySelector(".listListener").addEventListener("click",(function(e){var t=e.target.closest(".card-item").getAttribute("data-id");(0,y.openModalAboutFilm)(t)}));case 8:case"end":return e.stop()}}),e)}))),_.apply(this,arguments)}var L=new p,x=1;function E(e){L.getMovies(e).then(w).catch(B)}function w(e){var t;b(e),s.paginationButton.textContent=x,t=e.total_pages,x===t?s.nextPageBtn.setAttribute("disabled","disabled"):s.nextPageBtn.removeAttribute("disabled")}function B(e){s.catalogList.innerHTML="",g(),console.error("An error occurred:",e)}function k(){return(k=t(o)(t(c).mark((function e(){var n;return t(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.getMovies();case 3:0===(n=e.sent).total_results?S():(L.total=n.total_results,b(n),x=n.page,s.paginationButton.textContent=x),s.searchInput.value="",e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),B(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function S(){s.catalogList.innerHTML="",g()}s.searchForm.addEventListener("submit",(function(e){e.preventDefault(),s.paginationContainer.classList.remove("is-hidden"),s.errorContainer.classList.add("is-hidden");var t=s.searchInput.value.trim();L.query=t,L.resetPage(),L.resetTotal(),""===t?(s.catalogList.innerHTML="",g()):function(){k.apply(this,arguments)}()})),s.cancelBtn.addEventListener("click",(function(){s.cancelBtn.classList.add("is-hidden"),s.searchInput.value=""})),s.searchInput.addEventListener("input",(function(e){e.currentTarget.value.trim()?s.cancelBtn.classList.remove("is-hidden"):s.cancelBtn.classList.add("is-hidden")})),s.nextPageBtn.addEventListener("click",(function(){x+=1,L.incrementPage(),E(x)})),s.prevPageBtn.addEventListener("click",(function(){x>1&&(x-=1,L.decrementPage(),E(x))})),s.errorContainer.classList.add("is-hidden"),s.cancelBtn.classList.add("is-hidden"),E(x),i("gSZkB")}();
//# sourceMappingURL=catalog.7b082c94.js.map
