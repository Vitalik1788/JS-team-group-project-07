var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},i=e.parcelRequired7c6;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in n){var i=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,i.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequired7c6=i),i("g3iFJ"),i("8oZBs");var a=i("2shzp");a=i("2shzp");async function r(e,t){try{const n=Array.from(t),i=e.map((e=>{const t=n.find((t=>t.id===e));return t?t.name:""}));let a="";return a=i.length>2?i.slice(0,2).join(", ")+" and other":i.join(", "),console.log(a),a}catch(e){return s(e),""}}function o(e){const t=e.map((async({id:e,poster_path:t,release_date:n,title:i,genre_ids:a,vote_average:o})=>{const s=r(a,JSON.parse(localStorage.getItem("genres"))),l=`https://image.tmdb.org/t/p/original/${t}`;let d="";d="undefind"===n?"Date unknown":n.split("-")[0];return`<li class="card-item item" data-id="${e}">\n            <img class="film-poster" src="https://image.tmdb.org/t/p/original/${l}" alt="${i} poster" />\n            <div class="overlay">\n              <div class="film-info">\n                <p class="film-title">${i}</p>\n                <div class="film-details">\n                  <span class="film-description">${await s} | ${d}</span>\n                  <span class="film-rating">${o}</span>\n                </div>\n              </div>\n            </div>\n          </li>`}));return Promise.all(t).then((e=>{const t=e.join("");document.querySelector(".cards-list").insertAdjacentHTML("beforeend",t)}))}document.querySelector(".cards-list");function s(e){console.log(` error  ${e}`)}!async function(){try{const e=await a.default.get("https://api.themoviedb.org/3/genre/movie/list?api_key=41b8f9437bf3f899281f8a3f9bdc0891");localStorage.setItem("genres",JSON.stringify(e.data.genres))}catch(e){s(e)}}(),window.addEventListener("load",(function(){const e=window.innerWidth<768?1:3;(async function(){try{return await a.default.get("https://api.themoviedb.org/3/trending/all/week?api_key=41b8f9437bf3f899281f8a3f9bdc0891")}catch(e){s(e)}})().then((({data:t})=>{o(t.results.slice(0,e)).then((()=>{console.log(t)}))}))}));
//# sourceMappingURL=index.83cacfa9.js.map
