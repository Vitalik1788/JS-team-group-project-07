!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},a=n.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,n){r[e]=n},n.parcelRequired7c6=a),a("kFnCB"),a("60y4I");var i=a("bpxeT"),o=a("2TvXO"),c=a("dIxxU");a("bpxeT"),a("2TvXO"),i=a("bpxeT"),o=a("2TvXO"),c=a("dIxxU");function s(){return(s=e(i)(e(o).mark((function n(){var t;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.default.get("https://api.themoviedb.org/3/genre/movie/list?api_key=41b8f9437bf3f899281f8a3f9bdc0891");case 3:return t=e.sent,localStorage.setItem("genres",JSON.stringify(t.data.genres)),e.abrupt("return",t);case 8:e.prev=8,e.t0=e.catch(0),d(e.t0);case 11:case"end":return e.stop()}}),n,null,[[0,8]])})))).apply(this,arguments)}function u(e,n){return l.apply(this,arguments)}function l(){return(l=e(i)(e(o).mark((function n(t,r){var a,i,c;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Array.from(r),i=t.map((function(e){var n=a.find((function(n){return n.id===e}));return n?n.name:""})),c="",c=i.length>2?i.slice(0,2).join(", ")+" and other":i.join(", "),console.log(c),e.abrupt("return",c);case 9:return e.prev=9,e.t0=e.catch(0),d(e.t0),e.abrupt("return","");case 13:case"end":return e.stop()}}),n,null,[[0,9]])})))).apply(this,arguments)}function p(n){var t,r=n.map((t=e(i)(e(o).mark((function n(t){var r,a,i,c,s,l,p,f,d,v;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,a=t.poster_path,i=t.release_date,c=t.title,s=t.genre_ids,l=t.vote_average,p=u(s,JSON.parse(localStorage.getItem("genres"))),f="https://image.tmdb.org/t/p/original/".concat(a),d="",d="undefind"===i?"Date unknown":i.split("-")[0],e.next=7,p;case 7:return v=e.sent,e.abrupt("return",'<li class="card-item item" data-id="'.concat(r,'">\n            <img class="film-poster" src="https://image.tmdb.org/t/p/original/').concat(f,'" alt="').concat(c,' poster" />\n            <div class="overlay">\n              <div class="film-info">\n                <p class="film-title">').concat(c,'</p>\n                <div class="film-details">\n                  <span class="film-description">').concat(v," | ").concat(d,'</span>\n                  <span class="film-rating">').concat(l,"</span>\n                </div>\n              </div>\n            </div>\n          </li>"));case 9:case"end":return e.stop()}}),n)}))),function(e){return t.apply(this,arguments)}));return Promise.all(r).then((function(e){var n=e.join("");document.querySelector(".cards-list").insertAdjacentHTML("beforeend",n)}))}document.querySelector(".cards-list");function f(){return(f=e(i)(e(o).mark((function n(){var t;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.default.get("https://api.themoviedb.org/3/trending/all/week?api_key=41b8f9437bf3f899281f8a3f9bdc0891");case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),d(e.t0);case 10:case"end":return e.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}function d(e){console.log(" error  ".concat(e))}!function(){s.apply(this,arguments)}(),window.addEventListener("load",(function(){var e=window.innerWidth<768?1:3;(function(){return f.apply(this,arguments)})().then((function(n){var t=n.data;p(t.results.slice(0,e)).then((function(){console.log(t)}))}))}))}();
//# sourceMappingURL=index.ee07fdd4.js.map
