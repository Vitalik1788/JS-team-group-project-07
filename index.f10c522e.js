!function(){function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},a=r.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},r.parcelRequired7c6=a),a.register("iE7OH",(function(t,r){var n,o;e(t.exports,"register",(function(){return n}),(function(e){return n=e})),e(t.exports,"resolve",(function(){return o}),(function(e){return o=e}));var a={};n=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)a[t[r]]=e[t[r]]},o=function(e){var t=a[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),a.register("gzhhY",(function(e,r){var n=a("bpxeT"),o=a("2TvXO"),i=a("599li"),l=a("3Ujrf"),c=document.querySelector(".library-card-list"),s=document.querySelector(".btn");try{g()}catch(e){console.log(e)}function u(e){return f.apply(this,arguments)}function f(){return(f=t(n)(t(o).mark((function e(r){var n;return t(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.default.getMoviById(r);case 2:n=e.sent,d(n.data),console.log("gggggggggggg");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){var t=[];console.log(t),t.push(e),console.log(t),localStorage.setItem("library",JSON.stringify(t)),g()}function g(){if(library=JSON.parse(localStorage.getItem("library")),console.log(library),null===library||0===library.length)console.log("qqqqqqqqqqqqqq"),c.innerHTML='<div class="library-info">\n        <p class="library-info-info" style="color: white;"> OOPS... </p>\n        <p class="library-info-info" style="color: white;"> We are very sorry!</p>\n        <p class="library-info-info" style="color: white;"> You donâ€™t have any movies at your library.</p>\n        </div>';else{var e=JSON.parse(localStorage.getItem("library")).map((function(e){var r=e.poster_path?"https://image.tmdb.org/t/p/w500".concat(e.poster_path):"".concat(t(l));return'<li class="card-item item">\n              <img class="film-poster" src="'.concat(r,'" alt="').concat(e.original_title,'" />\n              <div class="overlay">\n                <div class="film-info">\n                  <p class="film-title">').concat(e.original_title||e.name,'</p>\n                  <div class="film-details">\n                     <span class="film-description">').concat(new Date(e.release_date).getFullYear()||new Date(e.first_air_date).getFullYear(),' </span>\n                    <span class="film-rating">').concat(Math.round(e.vote_average),"</span>\n                  </div>\n                </div>\n              </div>\n            </li>")})).join("");c.innerHTML=e}}s&&s.addEventListener("click",(function(e){var t=e.currentTarget.dataset.id;console.log(s),console.log(e),console.log(s.hasAttribute("data-add")),s.hasAttribute("data-add")?(console.log("data-add"),s.removeAttribute("data-add"),s.setAttribute("data-remove",""),s.textContent="Remove from my library",function(e){var t=JSON.parse(localStorage.getItem("library"));if(null===t)u(e),console.log("cccccccccc");else{if(void 0!==t.find((function(t){return t.id===Number(e)})))return;u(e),console.log("eeeeeeeeee")}}(t)):s.hasAttribute("data-remove")&&(console.log("data-remove"),s.removeAttribute("data-remove"),s.setAttribute("data-add",""),s.textContent="Add to my library",function(e){var t=JSON.parse(localStorage.getItem("library")).find((function(t){return t===e}));library.pop(t),console.log(library.length),localStorage.setItem("library",JSON.stringify(library)),g()}(t))}))})),a.register("599li",(function(r,n){e(r.exports,"default",(function(){return u}));var o=a("bpxeT"),i=a("2TvXO"),l=a("dIxxU"),c="b67c8518c930f00572f5eefdd7a9d563";function s(){return(s=t(o)(t(i).mark((function e(r){return t(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return{method:"GET",headers:{accept:"application/json",Authorization:"Bearer ".concat(c)}},e.abrupt("return",l.default.get("https://api.themoviedb.org/3/movie/".concat(r,"?api_key=").concat(c)).then((function(e){return e})).catch((function(e){console.log("EROR")})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var u={getMoviById:function(e){return s.apply(this,arguments)}}})),a.register("3Ujrf",(function(e,t){e.exports=a("aNJCr").getBundleURL("2hvCh")+a("iE7OH").resolve("iNwWb")})),a.register("aNJCr",(function(t,r){var n;e(t.exports,"getBundleURL",(function(){return n}),(function(e){return n=e}));var o={};function a(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}n=function(e){var t=o[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return a(e[2])}return"/"}(),o[e]=t),t}})),a("iE7OH").register(JSON.parse('{"2hvCh":"index.f10c522e.js","iNwWb":"default.183d728c.jpg"}'))}();
//# sourceMappingURL=index.f10c522e.js.map
